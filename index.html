
<!DOCTYPE html>
<html>
<head>
    <title>Rod Impact Simulator</title>
    <style>
        canvas { width: 100%; height: 100%; }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <div id="uiContainer"></div>


    <!-- Core Dependencies -->
    <script src="three.min.js"></script>
    <script src="EffectComposer.js"></script>
    <script src="RenderPass.js"></script>
    <script src="BloomPass.js"></script>
    <script src="simplex-noise.min.js"></script>

    <!-- Game Systems (Full Creation Order) -->
    <script src="physics.js"></script>
    <script src="game.js"></script>
    <script src="terrain.js"></script>
    <script src="atmosphere.js"></script>
    <script src="rods.js"></script>
    <script src="impact.js"></script>
    <script src="ejecta.js"></script>
    <script src="shockwave.js"></script>
    <script src="weather.js"></script>
    <script type="module" src="visuals.js"></script>
    <script src="upgrades.js"></script>
    <script src="prestige.js"></script>
    <script src="ascension.js"></script>
    <script src="stats.js"></script>
    <script src="pip.js"></script>
    <script src="ui.js"></script>
    <script src="saves.js"></script>
    <script src="options.js"></script>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const uiContainer = document.getElementById('uiContainer');

        // Initialize game
        Game.init(canvas, uiContainer);

        // Resize canvas only after initialization
        function resizeCanvas() {
            if (Game.systems.visuals && Game.systems.visuals.renderer) {
                const width = window.innerWidth;
                const height = window.innerHeight;
                Game.systems.visuals.renderer.setSize(width, height);
                Game.systems.visuals.camera.aspect = width / height;
                Game.systems.visuals.camera.updateProjectionMatrix();
            }
        }

        // Initial resize after init
        resizeCanvas();

        // Add resize listener
        window.addEventListener('resize', resizeCanvas);
    </script>
</body>
</html>
